(()=>{"use strict";const e=(()=>{const e=document.getElementById("infoContainer");return{create:a=>{for(let t=0;t<a.length-1;t++){const s=Array.from(e.children)[t],d=a[t].dateNumber,n=a[t].weatherVag,r=a[t].weatherDes,i=Math.round(a[t].dayTemp),o=Math.round(a[t].nightTemp);let c=document.createElement("i");switch(n){case"Thunderstorm":c.classList.add("wi","wi-thunderstorm");break;case"Drizzle":c.classList.add("wi","wi-showers");break;case"Rain":c.classList.add("wi","wi-rain");break;case"Clear":c.classList.add("wi","wi-day-sunny");break;case"Clouds":"scattered clouds"===r?c.classList.add("wi","wi-cloudy"):c.classList.add("wi","wi-day-cloudy");break;case"Mist":c.classList.add("wi","wi-sprinkle");break;case"Smoke":c.classList.add("wi","wi-smoke");break;case"Haze":c.classList.add("wi","wi-day-haze");break;case"Dust":c.classList.add("wi","wi-dust");break;case"Fog":c.classList.add("wi","wi-fog");break;case"Sand":case"Ash":c.classList.add("wi","wi-sandstorm");break;case"Tornado":c.classList.add("wi","wi-tornado");break;default:c=document.createElement("i"),c.classList.add("wi","wi-na")}const l=document.createElement("div");l.classList.add("tempDiv"),l.appendChild(document.createTextNode(`${i}/${o}`)),s.appendChild(document.createTextNode(d)),s.appendChild(c),s.appendChild(l)}},remove:()=>{document.querySelectorAll(".indivInfo").forEach((e=>{for(;e.lastChild;)e.removeChild(e.lastChild)}))}}})(),a=(console.log("finding datestuffs"),{futureDate:e=>{const a=new Date,t=new Date(a),s=t.getDate()+e;return t.setDate(s),[["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],`${t.getMonth()+1}/${t.getDate()}`]}}),t=async(e,a)=>{const t=`https://api.openweathermap.org/data/2.5/onecall?lat=${e}&lon=${a}&exclude=current,hourly,minutely,alerts&units=imperial&appid=daab30e51d1d719de2096678f035d4bf`;try{const e=await fetch(t,{mode:"cors"}),a=await e.json();return new Promise(((e,t)=>e(a)))}catch(e){return new Promise(((a,t)=>t(e)))}},s=async(e,a,t)=>{let s;s="US"===a?`http://api.openweathermap.org/geo/1.0/direct?q=${e},${t},${a}&limit=1&appid=daab30e51d1d719de2096678f035d4bf`:`http://api.openweathermap.org/geo/1.0/direct?q=${e},${a}&limit=1&appid=daab30e51d1d719de2096678f035d4bf`;try{const e=await fetch(s,{mode:"cors"}),a=await e.json();return new Promise(((e,t)=>e(a)))}catch(e){return new Promise(((a,t)=>t(e)))}},d=async(s,d)=>{await t(s,d).then((t=>{(async t=>{const s=t.daily,d=[];for(const e in s){const t=a.futureDate(parseInt(e));d.push({dayName:t[0],dateNumber:t[1],dayTemp:s[e].temp.day,nightTemp:s[e].temp.night,weatherVag:s[e].weather[0].main,weatherDes:s[e].weather[0].description})}console.log(d),e.remove(),e.create(d)})(t)})).catch((e=>{console.error(e)}))};d(37.323,-122.032);const n=async(e,a,t="none")=>{await s(e,a,t).then((e=>{d(e[0].lat,e[0].lon)})).catch((e=>{console.error(e)}))};document.querySelectorAll(".indivInfo").forEach((e=>{const a=document.createElement("i");a.classList.add("arrow-down"),e.addEventListener("mouseover",(()=>{e.appendChild(a)})),e.addEventListener("mouseout",(()=>{e.removeChild(a)}))}));const r=document.getElementById("searchContainer"),i=document.getElementById("searchInput");r.addEventListener("submit",(e=>{const a=i.value.split(", ");3===a.length?n(a[0],a[2],a[1]):n(a[0],a[2]),e.preventDefault()}))})();